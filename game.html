<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <link rel="stylesheet" href="/src/static/style.css">
    <script type="text/javascript" src="/src/static/functions.js"></script>
</head>
<body>
    <div class="gameframealign">
        <div id="tablewhite" class="tablewhite"></div>
        <div id="gameframe" class="gameframe"></div>
        <div id="tableblack" class="tableblack"></div>
    </div>
</body>
<script> 
    let whitemove = true
    let Drop = "";

    // Create game grid
    for (i=1; i<24; i++) {
        let newDiv = document.createElement("Div");
        newDiv.id = "field" + (i-1);
        newDiv.classList.add("field" + i);
        newDiv.addEventListener("click", detectinput);
        newDiv.addEventListener("dragover", function (ereignis) {
            ereignis.preventDefault();
            ereignis.dataTransfer.dropEffect = "move";
        });
        newDiv.addEventListener("drop", function (ereignis) {
            ereignis.preventDefault;

            if (Drop==true) {
                ereignis.target.appendChild(document.getElementById(ereignis.dataTransfer.getData("text/plain"))); 
                whitemove = false;
                
                return whitemove;
            };
        });
        document.getElementById('gameframe').appendChild(newDiv);
    };

    // Create white stones
    for (i=0; i<9; i++) {
        let newDiv = document.createElement("Div");
        newDiv.id = "whitestone" + i;
        newDiv.classList.add("whitestone" + (i+1));
        newDiv.innerHTML = "white";
        newDiv.draggable = "true";
        newDiv.addEventListener("dragstart", function (ereignis) {
            if (whitemove == true) {
                Drop = true;
            };
            ereignis.dataTransfer.setData("text/plain", ereignis.target.id);

            return Drop;
        });
        document.getElementById('tablewhite').appendChild(newDiv);
    };

    // Create black stones
    for (i=0; i<9; i++) {
        let newDiv = document.createElement("Div");
        newDiv.id = "blackstone" + i;
        newDiv.classList.add("blackstone" + (i+1));
        newDiv.innerHTML = "black";
        newDiv.draggable = "true";
        newDiv.addEventListener("dragstart", function (ereignis) {
            if (whitemove == false) {
                Drop = true;
            };
            ereignis.dataTransfer.setData("text/plain", ereignis.target.id);

            return Drop;
        });

        document.getElementById('tableblack').appendChild(newDiv);
    };

</script>
</html>